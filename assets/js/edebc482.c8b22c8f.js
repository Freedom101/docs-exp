"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[78310],{46981:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=o(74848),t=o(28453);const s={},r="Supported MongoDB Versions",a={id:"setup-and-configure/environment-configuration/mongodb-configuration/supported-mongodb-versions",title:"Supported MongoDB Versions",description:"Required MongoDB versions can change across different major versions. It is very important that you choose the correct database version when deploying and also to make sure your existing installation is using a supported version. This page outlines how you can keep track of the supported versions.",source:"@site/docs/setup-and-configure/environment-configuration/mongodb-configuration/supported-mongodb-versions.md",sourceDirName:"setup-and-configure/environment-configuration/mongodb-configuration",slug:"/setup-and-configure/environment-configuration/mongodb-configuration/supported-mongodb-versions",permalink:"/docs-exp/docs/setup-and-configure/environment-configuration/mongodb-configuration/supported-mongodb-versions",draft:!1,unlisted:!1,editUrl:"https://github.com/Freedom101/docs-exp/tree/main/my-website/docs/setup-and-configure/environment-configuration/mongodb-configuration/supported-mongodb-versions.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"MongoDB URI Authentication",permalink:"/docs-exp/docs/setup-and-configure/environment-configuration/mongodb-configuration/mongodb-uri-authentication"},next:{title:"Installing Client Apps",permalink:"/docs-exp/docs/setup-and-configure/installing-client-apps/"}},d={},c=[{value:"Using release notes",id:"using-release-notes",level:2},{value:"Using releases API",id:"using-releases-api",level:2},{value:"Recommended MongoDB version",id:"recommended-mongodb-version",level:2},{value:"Deprecation archive",id:"deprecation-archive",level:2},{value:"Supported Storage Engines",id:"supported-storage-engines",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"supported-mongodb-versions",children:"Supported MongoDB Versions"}),"\n",(0,i.jsx)(n.p,{children:"Required MongoDB versions can change across different major versions. It is very important that you choose the correct database version when deploying and also to make sure your existing installation is using a supported version. This page outlines how you can keep track of the supported versions."}),"\n",(0,i.jsx)(n.h2,{id:"using-release-notes",children:"Using release notes"}),"\n",(0,i.jsx)(n.p,{children:"You can always check the supported version list on our GitHub releases page."}),"\n",(0,i.jsx)(n.p,{children:'Use the following "template" link to inspect the release notes and supported MongoDB releases.'}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/RocketChat/Rocket.Chat/releases/VERSION",children:"https://github.com/RocketChat/Rocket.Chat/releases/VERSION"})})}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you want to check what are the supported MongoDB versions for release ",(0,i.jsx)(n.code,{children:"6.0.0"}),", you can go to ",(0,i.jsx)(n.a,{href:"https://github.com/RocketChat/Rocket.Chat/releases/6.0.0",children:"https://github.com/RocketChat/Rocket.Chat/releases/6.0.0"}),' and look for "Engine versions".']}),"\n",(0,i.jsxs)("figure",{children:[(0,i.jsx)("img",{src:"/img/image (2).png",alt:""}),(0,i.jsx)("figcaption",{children:(0,i.jsx)("p",{children:"Required Mongo version"})})]}),"\n",(0,i.jsx)(n.h2,{id:"using-releases-api",children:"Using releases API"}),"\n",(0,i.jsx)(n.p,{children:"The other option is to use our releases API."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"This is a relatively new addition; information on old versions can't be viewed by this API."})}),"\n",(0,i.jsx)(n.p,{children:"This is a very quick way of getting the list and is also ideal if you want to get this information dynamically for some kind of automation or script."}),"\n",(0,i.jsx)(n.p,{children:"If you want to see the supported MongoDB versions for the latest release, you can perform a GET request against the following endpoint:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://releases.rocket.chat/latest/info",children:"https://releases.rocket.chat/latest/info"})}),"\n",(0,i.jsxs)(n.p,{children:["You can change ",(0,i.jsx)(n.code,{children:"latest"})," with any version number and get more specific information. The key you're looking for is ",(0,i.jsx)(n.code,{children:"compatibleMongoVersions"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.code,{children:"curl"})," with ",(0,i.jsx)(n.code,{children:"jq"})," would look something like:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "tag": "6.0.0",\n    "commit": "aa8f0ec70b2267af55d9ce9a3e3abfe7ff6c0a37",\n    "key": "build/rocket.chat-6.0.0.tgz",\n    "etag": "8cfdb5bc71da00605faa00c46ef7d929-32",\n    "count": 2840,\n    "nodeVersion": "14.21.2",\n    "compatibleMongoVersions": [\n        "4.4",\n        "5.0",\n        "6.0"\n    ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"recommended-mongodb-version",children:"Recommended MongoDB version"}),"\n",(0,i.jsx)(n.p,{children:"If it is an existing deployment, being fairly in the middle of the supported list is a good idea. We know how hard it is to update our databases, especially if it's a large deployment."}),"\n",(0,i.jsx)(n.p,{children:"If you're going to deploy fresh, we recommend choosing the latest version that is supported. "}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"We don't remove MongoDB support overnight. A version marked to be removed from support is first deprecated and as a workspace admin, you see a deprecation warning in your Rocket.Chat logs and the notice banner on their instances."})}),"\n",(0,i.jsx)(n.h2,{id:"deprecation-archive",children:"Deprecation archive"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["See a list of Releases, Mongo versions, and their deprecation notice here ",(0,i.jsx)(n.a,{href:"/docs-exp/docs/customer-center/support-center/premium-support-plans/support-prerequisites-and-version-durability#mongodb-versions",title:"mention",children:"#mongodb-versions"})]})}),"\n",(0,i.jsxs)(n.p,{children:["Note that without the MongoDB version, we can't ensure you are running a compatible version. If you are running your MongoDB with authentication enabled and a ",(0,i.jsx)(n.strong,{children:"user different from admin"}),", you may need to grant permissions for this user to check cluster data. You can do it via Mongo shell by running the following command replacing the string ",(0,i.jsx)(n.em,{children:"YOUR_USER"})," with the correct user name:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'db.runCommand({ grantRolesToUser: "YOUR_USER" , roles: [{role: "clusterMonitor", db: "admin"}]})\n'})}),"\n",(0,i.jsx)(n.h2,{id:"supported-storage-engines",children:"Supported Storage Engines"}),"\n",(0,i.jsxs)(n.p,{children:["Mmapv1 is no longer supported in MongoDB since version 4.2. So to make sure you update your Rocket.Chat installations easily in the future, use the ",(0,i.jsx)(n.a,{href:"https://docs.mongodb.com/manual/core/wiredtiger/",children:"WiredTiger"})," storage engine. If you're already running mmapv1, ",(0,i.jsx)(n.a,{href:"/docs-exp/docs/setup-and-configure/environment-configuration/mongodb-configuration/migrate-from-mmap-to-wiredtiger-storage-engine",children:"migrate to WiredTiger"})," immediately."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>a});var i=o(96540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);