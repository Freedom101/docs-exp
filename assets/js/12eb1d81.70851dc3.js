"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[21153],{99577:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var o=n(74848),s=n(28453);const r={},i="Sentry",c={id:"use-rocket.chat/workspace-administration/integrations/sentry",title:"Sentry",description:"Add Sentry notifications via a new WebHook in Rocket.Chat This script works for the sentry.com and self-hosted versions.",source:"@site/docs/use-rocket.chat/workspace-administration/integrations/sentry.md",sourceDirName:"use-rocket.chat/workspace-administration/integrations",slug:"/use-rocket.chat/workspace-administration/integrations/sentry",permalink:"/docs-exp/docs/use-rocket.chat/workspace-administration/integrations/sentry",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/use-rocket.chat/workspace-administration/integrations/sentry.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"RunDeck Job Notifications",permalink:"/docs-exp/docs/use-rocket.chat/workspace-administration/integrations/rundeck-job-notifications"},next:{title:"Simple Telegram Bot",permalink:"/docs-exp/docs/use-rocket.chat/workspace-administration/integrations/simple-telegram-bot"}},a={},l=[];function d(e){const t={a:"a",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"sentry",children:"Sentry"}),"\n",(0,o.jsx)(t.p,{children:"Add Sentry notifications via a new WebHook in Rocket.Chat This script works for the sentry.com and self-hosted versions."}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Follow all instructions for creating an i",(0,o.jsx)(t.a,{href:"./#incoming-webhook-script",children:"ncoming webhook"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Login to your project on Sentry and go to ",(0,o.jsx)(t.strong,{children:"Settings"})," > ",(0,o.jsx)(t.strong,{children:"Developer Settings"})," > ",(0,o.jsx)(t.strong,{children:"Create New Integration > Internal Integration > Next."})]}),"\n",(0,o.jsxs)(t.li,{children:["Give your integration a name, copy the webhook URL generated, and paste it into the ",(0,o.jsx)(t.strong,{children:"Webhook URL"})," field."]}),"\n",(0,o.jsxs)(t.li,{children:["Turn on ",(0,o.jsx)(t.strong,{children:"Alert Action Rule"}),". This is important so that your incoming webhook URL is notified when there is an event on Sentry."]}),"\n",(0,o.jsx)(t.li,{children:"Enter appropriate values for the Permissions section and select the types of events to notify your incoming webhook."}),"\n",(0,o.jsxs)(t.li,{children:["Click ",(0,o.jsx)(t.strong,{children:"Save Changes"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Clone Sentry's ",(0,o.jsx)(t.a,{href:"https://github.com/getsentry/integration-platform-example",children:"example project"})," and follow the instructions in the repository to run the backend and frontend to test and trigger different event types."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"The script below gets different attributes of a Sentry event and sends it as a message to your configured channel when creating the webhook."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:'class Script {\n\n  process_incoming_request({request}) {\n    // console is a global helper to improve debug\n    // console.log(request.content);\n\n    return {\n      content: {\n        text: "Error in project *" + request.content.project + "\\n*Message:* " +\n          request.content.message + "\\n*Culprit:* " + request.content.culprit\n      }\n    };\n  }\n}\n\n'})}),"\n",(0,o.jsxs)(t.p,{children:["Use the ",(0,o.jsx)(t.code,{children:"console.log(request.content)"})," line to debug the JSON content posted by Sentry."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var o=n(96540);const s={},r=o.createContext(s);function i(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);