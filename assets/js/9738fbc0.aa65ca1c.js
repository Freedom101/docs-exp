"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[33779],{37196:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var s=r(74848),n=r(28453);const i={},o="LDAP User Search",c={id:"use-rocket.chat/authentication/ldap/ldap-user-search",title:"LDAP User Search",description:"Building upon the LDAP connection settings, the next crucial aspect in LDAP integration with Rocket.Chat is the LDAP user search. LDAP has built-in search capabilities to find users and groups from the directory that are permitted access.",source:"@site/docs/use-rocket.chat/authentication/ldap/ldap-user-search.md",sourceDirName:"use-rocket.chat/authentication/ldap",slug:"/use-rocket.chat/authentication/ldap/ldap-user-search",permalink:"/docs-exp/docs/use-rocket.chat/authentication/ldap/ldap-user-search",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/use-rocket.chat/authentication/ldap/ldap-user-search.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"LDAP Setup",permalink:"/docs-exp/docs/use-rocket.chat/authentication/ldap/ldap-setup"},next:{title:"OAuth",permalink:"/docs-exp/docs/use-rocket.chat/authentication/oauth/"}},a={},l=[{value:"<strong>Find user after login</strong> ",id:"find-user-after-login-",level:2},{value:"Search Filter",id:"search-filter",level:2},{value:"Group Filter",id:"group-filter",level:2}];function h(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"ldap-user-search",children:"LDAP User Search"}),"\n",(0,s.jsx)(t.p,{children:"Building upon the LDAP connection settings, the next crucial aspect in LDAP integration with Rocket.Chat is the LDAP user search. LDAP has built-in search capabilities to find users and groups from the directory that are permitted access."}),"\n",(0,s.jsxs)(t.p,{children:["To configure LDAP user search settings on your Rocket.Chat workspace, go to the ",(0,s.jsx)(t.strong,{children:"User Search"})," tab in LDAP menu and configure the following settings."]}),"\n",(0,s.jsxs)(t.h2,{id:"find-user-after-login-",children:[(0,s.jsx)(t.strong,{children:"Find user after login"})," "]}),"\n",(0,s.jsx)(t.p,{children:"When enabled, it performs a search of the user's DN after binding to ensure that the bind was successful, preventing login with empty passwords when allowed by the active directory configuration."}),"\n",(0,s.jsx)(t.h2,{id:"search-filter",children:"Search Filter"}),"\n",(0,s.jsx)(t.p,{children:"Enter the following search search filter fields to specify the context and scope of the search:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Base DN"}),": The fully qualified DN of an LDAP subtree you want to search for users and groups. There is no limit to the number of groups you can add, but they must be defined in the same domain base as the users who belong to them. For example, ",(0,s.jsx)(t.code,{children:"ou=Users+ou=Projects,DC=support,DC=rocket,DC=chat"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"If you specify restricted user groups, only users that belong to those groups will be in scope. We recommend setting the top level of your LDAP directory tree as your domain base and using a search filter to control access."})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Filter"}),": If specified, only users that match this filter will be allowed to log in. If no filter is selected, all users within the scope of the defined domain base can sign in. "]}),"\n",(0,s.jsx)(t.p,{children:"For example, for Active Directory:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"memberOf=cn=ROCKET_CHAT,ou=General Groups\n"})}),"\n",(0,s.jsx)(t.p,{children:"For example, for OpenLDAP (extensible match search):"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"ou:dn:=ROCKET_CHAT\n"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Scope"}),": The search scope. Provide the specific portion of the subtree that you want to search. For example, ",(0,s.jsx)(t.code,{children:"sub"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Search Field"}),": The LDAP attribute that identifies the LDAP user who attempts authentication. This field should be ",(0,s.jsx)(t.code,{children:"sAMAccountName"})," for most Active Directory installations, but it may be ",(0,s.jsx)(t.code,{children:"uid"})," for other LDAP solutions, such as OpenLDAP. You can use mail to identify users by email or whatever attribute you want. You can use multiple values separated by a comma to allow users to log in using multiple identifiers like username or email."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Search Page Size"}),": The maximum number of entries each result page will return to be processed."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Search Size Limit"}),": The maximum number of entries to return. It must be greater than the ",(0,s.jsx)(t.strong,{children:"Search Page Size"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"group-filter",children:"Group Filter"}),"\n",(0,s.jsx)(t.p,{children:"Search users by the groups defined in your LDAP directory."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Enable LDAP User Group Filter"}),": Restrict user access in an LDAP group. It is useful for allowing OpenLDAP servers without a ",(0,s.jsx)(t.code,{children:"memberOf"})," filter to limit group access."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Group ObjectClass"}),": The ",(0,s.jsx)(t.code,{children:"objectclass"})," that identifies the groups. For example, ",(0,s.jsx)(t.code,{children:"OpenLDAP:groupOfUniqueNames"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Group ID Attribute"}),": For example, ",(0,s.jsx)(t.code,{children:"*OpenLDAP:*cn"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Group Member Attribute"}),": For example, ",(0,s.jsx)(t.code,{children:"*OpenLDAP:*uniqueMember"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Group Member Format"}),": For example, ",(0,s.jsx)(t.code,{children:"*OpenLDAP:*uid=#{username},ou=users,o=Company,c=com"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Group name"}),": Group name to which the user should belong."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Click ",(0,s.jsx)(t.strong,{children:"Save changes"}),". Click ",(0,s.jsx)(t.strong,{children:"Test LDAP Search"})," to test the user search configuration."]}),"\n",(0,s.jsx)(t.p,{children:"With the LDAP User Search properly configured, Rocket.Chat is now equipped to locate and authenticate users from the LDAP directory. Next, configure your LDAP data sync and user mapping settings in the next topic."})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>c});var s=r(96540);const n={},i=s.createContext(n);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);