"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[21146],{21929:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var s=t(74848),o=t(28453);const r={description:"Install and Run Rocket.Chat on OpenSUSE Leap 42.2"},i="OpenSUSE Leap 42.2",l={id:"deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/opensuse-leap-42.2",title:"OpenSUSE Leap 42.2",description:"Install and Run Rocket.Chat on OpenSUSE Leap 42.2",source:"@site/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/opensuse-leap-42.2.md",sourceDirName:"deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods",slug:"/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/opensuse-leap-42.2",permalink:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/opensuse-leap-42.2",draft:!1,unlisted:!1,editUrl:"https://github.com/Freedom101/docs-exp/tree/main/my-website/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/opensuse-leap-42.2.md",tags:[],version:"current",frontMatter:{description:"Install and Run Rocket.Chat on OpenSUSE Leap 42.2"},sidebar:"tutorialSidebar",previous:{title:"OpenShift",permalink:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift"},next:{title:"Scalingo",permalink:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/scalingo"}},c={},a=[{value:"Overview",id:"overview",level:2},{value:"Acquire a VM with OpenSUSE Leap 42.2",id:"acquire-a-vm-with-opensuse-leap-422",level:2},{value:"Configure the Box",id:"configure-the-box",level:2},{value:"Update and Install Packages using zypper",id:"update-and-install-packages-using-zypper",level:3},{value:"Start and Configure MongoDB",id:"start-and-configure-mongodb",level:3},{value:"Install Let&#39;s Encrypt SSL Certificates",id:"install-lets-encrypt-ssl-certificates",level:3},{value:"Configure and Start nginx",id:"configure-and-start-nginx",level:3},{value:"Install and Configure Rocket.Chat",id:"install-and-configure-rocketchat",level:3},{value:"Sources",id:"sources",level:2},{value:"Config Files",id:"config-files",level:2},{value:"<code>/etc/nginx.conf</code>",id:"etcnginxconf",level:3},{value:"<code>/etc/nginx/sites-available/rocket_chat.conf</code>",id:"etcnginxsites-availablerocket_chatconf",level:3},{value:"<code>spot_instance.json</code>",id:"spot_instancejson",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"opensuse-leap-422",children:"OpenSUSE Leap 42.2"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Note: This is a community supported installation method. You can discuss about this in the"})," ",(0,s.jsx)(n.a,{href:"https://forums.rocket.chat/t/opensuse-installation-guide/657",children:(0,s.jsx)(n.em,{children:"forum thread"})}),(0,s.jsx)(n.em,{children:"."})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Last updated 2017-08-26"})}),"\n",(0,s.jsx)(n.p,{children:"Node.js version: 8.9.3"}),"\n",(0,s.jsx)(n.p,{children:"Rocket.Chat version: 0.60.0"}),"\n",(0,s.jsxs)(n.p,{children:["These are barebones instructions for how to set up a Rocket.Chat server on OpenSUSE Leap 42.2 using nginx as a reverse proxy. These will help you set up a system you can experiment with. ",(0,s.jsx)(n.strong,{children:"THEY ARE NOT INTENDED FOR SETUP OF A PRODUCTION SYSTEM!"})," They are oriented on using a VM from AWS, but should work for any Leap 42.2 system."]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"You will install and configure:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Node.js"}),"\n",(0,s.jsx)(n.li,{children:"MongoDB"}),"\n",(0,s.jsx)(n.li,{children:"Let's Encrypt SSL certificates"}),"\n",(0,s.jsx)(n.li,{children:"nginx"}),"\n",(0,s.jsx)(n.li,{children:"Rocket.Chat and its dependencies"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To do this, you will:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Acquire a VM to install on"}),"\n",(0,s.jsx)(n.li,{children:"Install all the packages you'll need"}),"\n",(0,s.jsx)(n.li,{children:"Start and configure MongoDB"}),"\n",(0,s.jsx)(n.li,{children:"Install Let's Encrypt SSL certificates"}),"\n",(0,s.jsx)(n.li,{children:"Configure and start nginx"}),"\n",(0,s.jsx)(n.li,{children:"Install and start Rocket.Chat"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Things you'll need to do afterwards on your own, ",(0,s.jsx)(n.strong,{children:"especially if you want a production-worthy system"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a ",(0,s.jsx)(n.code,{children:"systemctl"})," script to restart Rocket.Chat if the server is rebooted"]}),"\n",(0,s.jsx)(n.li,{children:"Configure email on the server (so Rocket can request account validation)"}),"\n",(0,s.jsx)(n.li,{children:"Secure the server (e.g. get rid of the default user on a VM, etc.)"}),"\n",(0,s.jsxs)(n.li,{children:["Monitor the server so you can respond if it goes down","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Rocket.Chat availability"}),"\n",(0,s.jsx)(n.li,{children:"MongoDB availability"}),"\n",(0,s.jsx)(n.li,{children:"nginx availability"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Configure MongoDB for production use","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use an XFS volume"}),"\n",(0,s.jsx)(n.li,{children:"Use persistent (e.g. non-local) storage if you're using a VM"}),"\n",(0,s.jsx)(n.li,{children:"Configure replica sets"}),"\n",(0,s.jsx)(n.li,{children:'Consider setting /sys/kernel/mm/transparent_hugepage/enabled to "never" as recommended by Mongo at startup'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Set up periodic updates for the system"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"acquire-a-vm-with-opensuse-leap-422",children:"Acquire a VM with OpenSUSE Leap 42.2"}),"\n",(0,s.jsx)(n.p,{children:"I like to use AWS spot instances as a very cheap way to experiment with things. I find I can usually get an m3.medium (1 vCPU, 3.75GB RAM) for ~$0.01/hour, or ~$7/month if run continuously. Pick the right region and you'll rarely if ever be shut down."}),"\n",(0,s.jsxs)(n.p,{children:["There's a ",(0,s.jsx)(n.code,{children:"spot_instance.json"})," below that I generally use to set up an instance. I already have a few security groups to lock down all but the ports I need, an IAMS profile to allow just the privileges I want, and an SSH keypair generated; I'm not going to tackle those here, so if you want to do this, you probably should do some quick research and set those up yourself."]}),"\n",(0,s.jsx)(n.p,{children:"I also use the AWS CLI, so it's preconfigured for my favorite region, credentials, etc. If you don't have that set up, you'll want to."}),"\n",(0,s.jsx)(n.p,{children:"When you've got those set, getting an instance is really straightforward:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"aws ec2 request-spot-instances --cli-input-json file://spot_instance.json\n"})}),"\n",(0,s.jsx)(n.p,{children:'Note: if you get an error saying that you must subscribe to the AMI before using it, copy the URL in the error message and open it in a browser. The "subscription" costs $0.00/hour, so it\'s just a formality.'}),"\n",(0,s.jsx)(n.h2,{id:"configure-the-box",children:"Configure the Box"}),"\n",(0,s.jsxs)(n.p,{children:["The default user in the Leap 42.2 image is ",(0,s.jsx)(n.code,{children:"ec2-user"}),". You'll ssh into the box using that user, and immediately become root."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"> ssh ec2-user@IP-OR-HOSTNAME-FOR-YOUR-BOX\n> sudo su -\n"})}),"\n",(0,s.jsx)(n.h3,{id:"update-and-install-packages-using-zypper",children:"Update and Install Packages using zypper"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Add the repo for MongoDB"}),"\n",(0,s.jsx)(n.li,{children:"Refresh metadata for all repos"}),"\n",(0,s.jsx)(n.li,{children:"Update all the packages on the box"}),"\n",(0,s.jsx)(n.li,{children:"Install the new packages we need"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"zypper addrepo http://download.opensuse.org/repositories/server:database/openSUSE_Leap_42.2/server:database.repo\nzypper refresh\nzypper -n update\nzypper -n install mongodb nodejs4 npm4 nginx GraphicsMagick gcc-c++\n"})}),"\n",(0,s.jsx)(n.h3,{id:"start-and-configure-mongodb",children:"Start and Configure MongoDB"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enable and start MongoDB"}),"\n",(0,s.jsx)(n.li,{children:"Create the admin user"}),"\n",(0,s.jsx)(n.li,{children:"Create the DB and user for Rocket.Chat"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In a shell:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"systemctl enable mongodb\nsystemctl start mongodb\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now start a MongoDB shell and add the admin user:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'> mongo\nuse admin\n\ndb.createUser({\n    user: "root",\n    pwd: "fl!bb3rtyJ!bb3tt",\n    roles: [ "root" ]\n})\n\nexit\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now re-open a MongoDB shell as your admin user and create the Rocket.Chat db and admin user. You'll use these later to tell Rocket how to access its DB."}),"\n",(0,s.jsxs)(n.p,{children:["Note: Don't use ",(0,s.jsx)(n.code,{children:":"})," or ",(0,s.jsx)(n.code,{children:"@"})," in this user's password or you'll need to URL escape them later. It's easier to avoid those characters."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'> mongo --authenticationDatabase admin -u root -p\n\nuse rocketchat\n\ndb.createUser({\n    user: "rocket",\n    pwd: "4rgl3b4rgl3",\n    roles: [ "readWrite", "dbAdmin" ]\n})\n\nexit\n'})}),"\n",(0,s.jsx)(n.h3,{id:"install-lets-encrypt-ssl-certificates",children:"Install Let's Encrypt SSL Certificates"}),"\n",(0,s.jsx)(n.p,{children:"This is so crazy easy. Remember when this was hard, and when it cost $20-$200 per year? Please consider using one of the donation links given afterwards as a way to support continued development of CertBot."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://letsencrypt.org/donate",children:"https://letsencrypt.org/donate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://eff.org/donate-le",children:"https://eff.org/donate-le"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"YOUR.SERVER.NAME"})," below with the hostname your server will be accessed from, e.g. ",(0,s.jsx)(n.code,{children:"chat.example.com"}),", and replace ",(0,s.jsx)(n.code,{children:"YOUR@EMAIL.ADDRESS"})," with your email address, e.g. ",(0,s.jsx)(n.code,{children:"admin@example.com"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt\ncd /opt/letsencrypt && ./letsencrypt-auto certonly --standalone --email YOUR@EMAIL.ADDRESS -d YOUR.SERVER.NAME\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configure-and-start-nginx",children:"Configure and Start nginx"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Set up a more modern site config management scheme"}),"\n",(0,s.jsxs)(n.li,{children:["Set the base ",(0,s.jsx)(n.code,{children:"nginx"})," config"]}),"\n",(0,s.jsx)(n.li,{children:"Add the config needed for Rocket.Chat"}),"\n",(0,s.jsx)(n.li,{children:"Enable and start nginx"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd /etc/nginx\nmkdir sites-enabled sites-available\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now do two things:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Replace the contents of ",(0,s.jsx)(n.code,{children:"/etc/nginx.conf"})," with the ",(0,s.jsx)(n.code,{children:"nginx.conf"})," below."]}),"\n",(0,s.jsxs)(n.li,{children:["Copy the contents of ",(0,s.jsx)(n.code,{children:"rocket_chat.conf"})," below to ",(0,s.jsx)(n.code,{children:"/etc/nginx/sites-available/rocket_chat.conf"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Now you can enable the Rocket.Chat config, then enable and start nginx"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd /etc/nginx/sites-enabled\nln -s ../sites-available/rocket_chat.conf .\n\nsystemctl enable nginx\nsystemctl start nginx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"install-and-configure-rocketchat",children:"Install and Configure Rocket.Chat"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Add a ",(0,s.jsx)(n.code,{children:"rocket"})," user and group"]}),"\n",(0,s.jsx)(n.li,{children:"Download the latest Rocket.Chat"}),"\n",(0,s.jsxs)(n.li,{children:["Install all the node.js dependencies for Rocket.Chat using ",(0,s.jsx)(n.code,{children:"npm"})]}),"\n",(0,s.jsx)(n.li,{children:"Set the required environment variables"}),"\n",(0,s.jsx)(n.li,{children:"Start the Rocket.Chat server"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"YOUR.SERVER.NAME"})," below with the hostname your server will be accessed from, e.g. ",(0,s.jsx)(n.code,{children:"chat.example.com"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"groupadd -g 2000 rocket\nuseradd -g rocket -u 2000 rocket\n\ncd /opt\ncurl -L https://releases.rocket.chat/latest/download -o rocket.chat.tgz\ntar zxvf rocket.chat.tgz\nmv bundle Rocket.Chat\nchown -R rocket:rocket /opt/Rocket.Chat\n\nsu - rocket\ncd /opt/Rocket.Chat/programs/server\nnpm install\ncd ../..\n\n# TODO: Make a script for this for systemctl\nexport ROOT_URL=http://YOUR.SERVER.NAME/\nexport MONGO_URL=mongodb://rocket:4rgl3b4rgl3@localhost:27017/rocketchat\nexport PORT=3000\n\nnode main.js\n"})}),"\n",(0,s.jsx)(n.p,{children:"If everything is working as planned, you'll see something like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Will load cache for users\n0 records load from users\nWill load cache for rocketchat_room\n0 records load from rocketchat_room\nWill load cache for rocketchat_subscription\n0 records load from rocketchat_subscription\nWill load cache for rocketchat_settings\n0 records load from rocketchat_settings\nUpdating process.env.MAIL_URL\nWill load cache for rocketchat_permissions\n0 records load from rocketchat_permissions\nWill load cache for rocketchat_roles\n0 records load from rocketchat_roles\nLocalStore: store created at\nLocalStore: store created at\nSetting default file store to GridFS\nUpdating process.env.MAIL_URL\nUsing GridFS for custom sounds storage\nUsing GridFS for custom emoji storage\nufs: temp directory created at "/tmp/ufs"\n\u2794 System \u2794 startup\n\u2794 +--------------------------------------------------------+\n\u2794 |                     SERVER RUNNING                     |\n\u2794 +--------------------------------------------------------+\n\u2794 |                                                        |\n\u2794 |  Rocket.Chat Version: 0.60.0                           |\n\u2794 |       NodeJS Version: 8.9.3 - x64                      |\n\u2794 |             Platform: linux                            |\n\u2794 |         Process Port: 3000                             |\n\u2794 |             Site URL: http://YOUR.SERVER.NAME:3000/    |\n\u2794 |     ReplicaSet OpLog: Disabled                         |\n\u2794 |          Commit Hash: 988103d449                       |\n\u2794 |        Commit Branch: HEAD                             |\n\u2794 |                                                        |\n\u2794 +--------------------------------------------------------+\n'})}),"\n",(0,s.jsxs)(n.p,{children:["... and that's Rocket.Chat all set. Direct a browser to ",(0,s.jsx)(n.code,{children:"https://YOUR.SERVER.NAME"})," and register a yourself as new user. The first user you register will be made the server admin."]}),"\n",(0,s.jsx)(n.h2,{id:"sources",children:"Sources"}),"\n",(0,s.jsx)(n.p,{children:"These are docs and snippets I used to figure all of this out."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://en.opensuse.org/MongoDB",children:"MongoDb"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-ubuntu",children:"deploy-with-ubuntu.md"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/docs-exp/docs/deploy/deploy-rocket.chat/deploy-with-aws",children:"deploy-with-aws.md"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.digitalocean.com/community/tutorials/how-to-install-configure-and-deploy-rocket-chat-on-ubuntu-14-04",children:"how-to-install-configure-and-deploy-rocket-chat-on-ubuntu-14-04"})}),"\n",(0,s.jsx)(n.h2,{id:"config-files",children:"Config Files"}),"\n",(0,s.jsx)(n.h3,{id:"etcnginxconf",children:(0,s.jsx)(n.code,{children:"/etc/nginx.conf"})}),"\n",(0,s.jsxs)(n.p,{children:["This config relies on you creating ",(0,s.jsx)(n.code,{children:"/etc/nginx/sites-available"})," and ",(0,s.jsx)(n.code,{children:"/etc/nginx/sites-enabled"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'user rocket;\nworker_processes auto;\npid /run/nginx.pid;\n\nevents {\n    worker_connections 768;\n    # multi_accept on;\n}\n\nhttp {\n\n    ##\n    # Basic Settings\n    ##\n\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout 65;\n    types_hash_max_size 2048;\n    # server_tokens off;\n\n    # server_names_hash_bucket_size 64;\n    # server_name_in_redirect off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    ##\n    # SSL Settings\n    ##\n\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE\n    ssl_prefer_server_ciphers on;\n\n    ##\n    # Logging Settings\n    ##\n\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n\n    ##\n    # Gzip Settings\n    ##\n\n    gzip on;\n    gzip_disable "msie6";\n\n    # gzip_vary on;\n    # gzip_proxied any;\n    # gzip_comp_level 6;\n    # gzip_buffers 16 8k;\n    # gzip_http_version 1.1;\n    # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n    ##\n    # Virtual Host Configs\n    ##\n\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\n\n\n#mail {\n#   # See sample authentication script at:\n#   # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript\n#\n#   # auth_http localhost/auth.php;\n#   # pop3_capabilities "TOP" "USER";\n#   # imap_capabilities "IMAP4rev1" "UIDPLUS";\n#\n#   server {\n#       listen     localhost:110;\n#       protocol   pop3;\n#       proxy      on;\n#   }\n#\n#   server {\n#       listen     localhost:143;\n#       protocol   imap;\n#       proxy      on;\n#   }\n#}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"etcnginxsites-availablerocket_chatconf",children:(0,s.jsx)(n.code,{children:"/etc/nginx/sites-available/rocket_chat.conf"})}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"YOUR.SERVER.NAME"})," below with the hostname your server will be accessed from, e.g. ",(0,s.jsx)(n.code,{children:"chat.example.com"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"server {\n  listen 443 ssl;\n  server_name YOUR.SERVER.NAME;\n  ssl_certificate /etc/letsencrypt/live/YOUR.SERVER.NAME/fullchain.pem;\n  ssl_certificate_key /etc/letsencrypt/live/YOUR.SERVER.NAME/privkey.pem;\n  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n  ssl_prefer_server_ciphers on;\n  ssl_ciphers 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n  root /usr/share/nginx/html;\n  index index.html index.htm;\n  # Make site accessible from http://localhost/\n  server_name localhost;\n  location / {\n    proxy_pass http://localhost:3000/;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto https;\n    proxy_set_header X-Nginx-Proxy true;\n    proxy_redirect off;\n  }\n}\nserver {\n  listen 80;\n  server_name YOUR.SERVER.NAME;\n  return 301 https://$host$request_uri;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"spot_instancejson",children:(0,s.jsx)(n.code,{children:"spot_instance.json"})}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"Subnet-Id"}),", ",(0,s.jsx)(n.code,{children:"Arn"}),", and ",(0,s.jsx)(n.code,{children:"SecurityGroupIds"})," content below with your own. The ",(0,s.jsx)(n.code,{children:"ImageId"})," given is for the OpenSUSE Leap 42.2 AMI."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\n  "InstanceCount": 1,\n  "SpotPrice": "0.015",\n  "LaunchSpecification":\n    {\n      "ImageId": "ami-49570529",\n      "InstanceType": "m3.medium",\n      "SubnetId": "subnet-########",\n      "KeyName": "tinyjoy",\n      "IamInstanceProfile": {\n        "Arn": "arn:aws:iam::############:instance-profile/IAMS-PROFILE-NAME"\n      },\n      "SecurityGroupIds": ["sg-########"]\n    },\n  "Type": "one-time"\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var s=t(96540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);