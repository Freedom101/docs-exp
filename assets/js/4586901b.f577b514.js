"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[98525],{60689:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=t(85893),i=t(11151);const a={description:"CDN Setup instructions"},r="CDN",o={id:"setup-and-configure/advanced-workspace-management/cdn",title:"CDN",description:"CDN Setup instructions",source:"@site/docs/setup-and-configure/advanced-workspace-management/cdn.md",sourceDirName:"setup-and-configure/advanced-workspace-management",slug:"/setup-and-configure/advanced-workspace-management/cdn",permalink:"/docs-exp/docs/setup-and-configure/advanced-workspace-management/cdn",draft:!1,unlisted:!1,editUrl:"https://github.com/Freedom101/docs-exp/tree/main/my-website/docs/setup-and-configure/advanced-workspace-management/cdn.md",tags:[],version:"current",frontMatter:{description:"CDN Setup instructions"},sidebar:"tutorialSidebar",previous:{title:"Advanced workspace management",permalink:"/docs-exp/docs/setup-and-configure/advanced-workspace-management/"},next:{title:"Client Compatibility Matrix",permalink:"/docs-exp/docs/setup-and-configure/advanced-workspace-management/client-compatibility-matrix"}},d={},c=[{value:"Enabling CDN",id:"enabling-cdn",level:2},{value:"CDN Prefix",id:"cdn-prefix",level:3},{value:"Use CDN Prefix for all assets",id:"use-cdn-prefix-for-all-assets",level:3},{value:"CDN Prefix for JS/CSS",id:"cdn-prefix-for-jscss",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Database Fix",id:"database-fix",level:4},{value:"Use a Browser Extension",id:"use-a-browser-extension",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"cdn",children:"CDN"}),"\n",(0,s.jsx)(n.p,{children:"In the era of high-speed internet and global connectivity, Content Delivery Networks (CDNs) have become an essential tool for delivering static assets such as JavaScript, CSS, and images to users efficiently. Rocket.Chat supports the use of a CDN to serve static assets to its workspace. This guide will provide a detailed overview of how to set up a CDN in Rocket.Chat and troubleshoot any issues that may arise."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"It's important to note that if you provide a CDN prefix that is not live or incorrect, you may lose access to your Rocket.Chat instance as the required assets will not be found."})}),"\n",(0,s.jsx)(n.h2,{id:"enabling-cdn",children:"Enabling CDN"}),"\n",(0,s.jsx)(n.p,{children:"To enable CDN in your workspace,"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Administration > Workspace > Settings > General."})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update the"})," CDN Prefix."]}),"\n",(0,s.jsxs)(n.li,{children:["You can enable ",(0,s.jsx)(n.strong,{children:"Use CDN Prefix for all assets"})," or set a different "]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cdn-prefix",children:"CDN Prefix"}),"\n",(0,s.jsx)(n.p,{children:"This string will generate different outcomes depending on the value provided."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"Example Url for Asset"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"cdn"}),(0,s.jsx)(n.td,{children:"/cdn/example-asset.js"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"http://cdn.domain.com",children:"http://cdn.domain.com"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"http://cdn.domain.com/example-asset.js",children:"http://cdn.domain.com/example-asset.js"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://cdn.domain.com",children:"https://cdn.domain.com"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://cdn.domain.com/example-asset.js",children:"https://cdn.domain.com/example-asset.js"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"use-cdn-prefix-for-all-assets",children:"Use CDN Prefix for all assets"}),"\n",(0,s.jsx)(n.p,{children:"Enable this for serving all assets from the same CDN."}),"\n",(0,s.jsx)(n.h3,{id:"cdn-prefix-for-jscss",children:"CDN Prefix for JS/CSS"}),"\n",(0,s.jsx)(n.p,{children:"This option takes the same style input as CDN Prefix. The value provided will be applied only to JS and CSS assets."}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.p,{children:"In case the CDN stops working or the provided values are incorrect, there are a few workarounds to allow a fix to be implemented inside the Administration settings. These include updating the backend Mongo database to remove the CDN or using a browser extension to rewrite URLs from the CDN address to the exact location where Rocket.Chat is running."}),"\n",(0,s.jsx)(n.h4,{id:"database-fix",children:"Database Fix"}),"\n",(0,s.jsx)(n.p,{children:"As the front end of Rocket.Chat may be inaccessible, but the backend Mongo database can be updated to remove the CDN. The following Mongo commands should reset the value to the default state."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'db.rocketchat_settings.update({_id:"CDN_PREFIX"},{$set:{"value":""}})\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'db.rocketchat_settings.update({_id:"CDN_JSCSS_PREFIX"},{$set:{"value":""}})\n'})}),"\n",(0,s.jsx)(n.h3,{id:"use-a-browser-extension",children:"Use a Browser Extension"}),"\n",(0,s.jsx)(n.p,{children:"A browser extension can be used to rewrite URLs from the CDN address to the exact location where Rocket.Chat is running. Take extra caution when selecting an appropriate extension for your browser."})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>r});var s=t(67294);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);