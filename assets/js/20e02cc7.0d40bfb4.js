"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8297],{78119:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>r,frontMatter:()=>d,metadata:()=>i,toc:()=>l});var n=o(74848),a=o(28453);const d={description:"Deploying Rocket.Chat on OpenShift"},s="OpenShift",i={id:"deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift",title:"OpenShift",description:"Deploying Rocket.Chat on OpenShift",source:"@site/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift.md",sourceDirName:"deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods",slug:"/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift",permalink:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift.md",tags:[],version:"current",frontMatter:{description:"Deploying Rocket.Chat on OpenShift"},sidebar:"tutorialSidebar",previous:{title:"Linode",permalink:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/linode"},next:{title:"OpenSUSE Leap 42.2",permalink:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/opensuse-leap-42.2"}},c={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"1. Login",id:"1-login",level:2},{value:"2. Create a project",id:"2-create-a-project",level:2},{value:"3. Import the ImageStream and templates",id:"3-import-the-imagestream-and-templates",level:2},{value:"4. Create the app",id:"4-create-the-app",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"openshift",children:"OpenShift"}),"\n",(0,n.jsx)(t.p,{children:"This guide covers how to host Rocket.Chat on OpenShift Online Next Gen."}),"\n",(0,n.jsx)(t.p,{children:"OpenShift Online Next Gen is a completely rewritten PaaS solution based on Docker and Kubernetes that allows developers to quickly develop, host and scale applications in a cloud environment. OpenShift provides a CLI based tool that allows managing your projects and applications."}),"\n",(0,n.jsxs)(t.p,{children:["Please refer to ",(0,n.jsx)(t.a,{href:"https://docs.openshift.com/container-platform/4.7/cli_reference/openshift_cli/getting-started-cli.html",children:"Getting Started with the CLI"})," documentation on OpenShift website."]}),"\n",(0,n.jsx)(t.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift#1-login",children:"Login"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift#2-create-a-project",children:"Create a project"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift#3-import-the-imagestream-and-templates",children:"Import the ImageStream and templates"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/openshift#4-create-the-app",children:"Create the app"})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"1-login",children:"1. Login"}),"\n",(0,n.jsx)(t.p,{children:"First of all, we need to log in to OpenShift API URL to create our project. The command to log in to OpenShift Online Next Gen is shown below:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# oc login https://api.preview.openshift.com --token=<api_token>\n"})}),"\n",(0,n.jsx)(t.p,{children:"You can find the API Token to login to OpenShift Online Next Gen in the about page of the Web console."}),"\n",(0,n.jsx)(t.h2,{id:"2-create-a-project",children:"2. Create a project"}),"\n",(0,n.jsx)(t.p,{children:"After login to OpenShift Online Next Gen, we need to create a project to host our Rocket.Chat application:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"$ oc new-project rocket-chat\n"})}),"\n",(0,n.jsx)(t.h2,{id:"3-import-the-imagestream-and-templates",children:"3. Import the ImageStream and templates"}),"\n",(0,n.jsx)(t.p,{children:"Clone the Rocket.Chat GitHub repository and import the templates to your OpenShift project:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# git clone https://github.com/RocketChat/Rocket.Chat\n# cd Rocket.Chat\n# oc create -f .openshift/rocket-chat-ephemeral.json\n# oc create -f .openshift/rocket-chat-persistent.json\n"})}),"\n",(0,n.jsx)(t.h2,{id:"4-create-the-app",children:"4. Create the app"}),"\n",(0,n.jsxs)(t.p,{children:["Create the application using the newly created templated and pass the ",(0,n.jsx)(t.code,{children:"MONGODB_DATABASE"}),",",(0,n.jsx)(t.code,{children:"MONGODB_USER"})," and ",(0,n.jsx)(t.code,{children:"MONGODB_PASSWORD"})," parameters:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# oc new-app rocket-chat -p MONGODB_DATABASE=rocketchat -p MONGODB_USER=rocketchat-admin -p MONGODB_PASSWORD=rocketchat\n"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Rocket.Chat uses a domain check code to verify the validity of the e-mail address. To disable it, run the following commands:"}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# oc port-forward <mongodb_pod> 27017\n# mongo localhost:27017\n\n> use rocketchat\n> db.auth('rocketchat-admin','rocketchat')\n> db.rocketchat_settings.update({_id:'Accounts_UseDNSDomainCheck'},{$set:{value:false}})\n"})})]})}function r(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>i});var n=o(96540);const a={},d=n.createContext(a);function s(e){const t=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(d.Provider,{value:t},e.children)}}}]);