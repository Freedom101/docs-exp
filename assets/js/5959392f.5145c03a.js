"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[79611],{62407:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var s=i(74848),n=i(28453);const o={},r="Active Directory Federation Services",c={id:"use-rocket.chat/authentication/saml/active-directory-federation-services",title:"Active Directory Federation Services",description:"Microsoft's Active Directory Federation Services (ADFS) provides users with single sign-on access to systems and applications. It's used to securely share digital identity and permissions across applications. This simplifies user experience while implementing robust security policies.",source:"@site/docs/use-rocket.chat/authentication/saml/active-directory-federation-services.md",sourceDirName:"use-rocket.chat/authentication/saml",slug:"/use-rocket.chat/authentication/saml/active-directory-federation-services",permalink:"/docs-exp/docs/use-rocket.chat/authentication/saml/active-directory-federation-services",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/use-rocket.chat/authentication/saml/active-directory-federation-services.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SAML",permalink:"/docs-exp/docs/use-rocket.chat/authentication/saml/"},next:{title:"Keycloak",permalink:"/docs-exp/docs/use-rocket.chat/authentication/saml/keycloak"}},a={},d=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"active-directory-federation-services",children:"Active Directory Federation Services"}),"\n",(0,s.jsxs)(t.p,{children:["Microsoft's ",(0,s.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/windows-server/identity/ad-fs/ad-fs-overview",children:"Active Directory Federation Services (ADFS)"})," provides users with single sign-on access to systems and applications. It's used to securely share digital identity and permissions across applications. This simplifies user experience while implementing robust security policies."]}),"\n",(0,s.jsx)(t.p,{children:"Rocket.Chat supports authentication with ADFS and ADFS provides an IdP service that can be consumed by Rocket.Chat for authentication. "}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["If you are using Active Directory ",(0,s.jsx)(t.em,{children:"without"})," Federation Services, you should perform the user synchronization via LDAP only."]})}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["This document considers that your ADFS environment is deployed and running. For further information, please refer to ",(0,s.jsx)(t.a,{href:"https://docs.microsoft.com/en-us/previous-versions/dynamicscrm-2016/deployment-administrators-guide/gg188612(v=crm.8)",children:"this guide"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:"The Rocket.Chat configuration should be done as follows:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Navigate to ",(0,s.jsx)(t.strong,{children:"Administration"})," > ",(0,s.jsx)(t.strong,{children:"Workspace"})," > ",(0,s.jsx)(t.strong,{children:"Settings"})," > ",(0,s.jsx)(t.strong,{children:"SAML"})," and configure the entry points and the IdP path."]}),"\n",(0,s.jsx)(t.li,{children:"Add the private key certificate related to the ADFS server."}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["ADFS uses ",(0,s.jsx)(t.code,{children:".pfx"})," certificate extensions (widely used on Windows landscapes) and Rocket.Chat uses ",(0,s.jsx)(t.code,{children:".pem"})," files. So, before setting the certificate here, it must be converted."]})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.strong,{children:"Custom Authn Context"})," and ",(0,s.jsx)(t.strong,{children:"User Data Field Map"})," according to the configuration you have on your ADFS system."]}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["The Custom Authorization context fields must match the authentication methods selected on ADFS. Microsoft Federation Services provides two authentication methods: ",(0,s.jsx)(t.strong,{children:"Forms Authentication"})," and ",(0,s.jsx)(t.strong,{children:"Windows Authentication"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:"![](/img/adfs_1 (1).png)"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Forms authentication"}),": If this option is set as 'primary', a login form provided by ADFS will be called by the SAML assertion to perform the login operation. For this method, the recommended ",(0,s.jsx)(t.strong,{children:"Custom Authn Context"})," in Rocket.Chat should be ",(0,s.jsx)(t.code,{children:"urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Windows authentication"}),": if this option is set as 'primary', ADFS will expect the login assertions on the Windows Domain level. To set a full SSO scenario between Rocket.Chat and ADFS, the recommended ",(0,s.jsx)(t.strong,{children:"Custom Authn Context"})," should be ",(0,s.jsx)(t.code,{children:"_urn:federation:authentication:windows_"})]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Once all your settings are complete, you can use Rocket.Chat with your ADFS integration to maintain security, troubleshoot issues, and monitor authentication events."})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>c});var s=i(96540);const n={},o=s.createContext(n);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);