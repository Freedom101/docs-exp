<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Deploy with Kubernetes | Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Freedom101.github.io/docs-exp/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Freedom101.github.io/docs-exp/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Freedom101.github.io/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploy with Kubernetes | Docs"><meta data-rh="true" name="description" content="Deploy on a kubernetes cluster using our official helm chart."><meta data-rh="true" property="og:description" content="Deploy on a kubernetes cluster using our official helm chart."><link data-rh="true" rel="icon" href="/docs-exp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Freedom101.github.io/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes"><link data-rh="true" rel="alternate" href="https://Freedom101.github.io/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes" hreflang="en"><link data-rh="true" rel="alternate" href="https://Freedom101.github.io/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/docs-exp/blog/rss.xml" title="Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-exp/blog/atom.xml" title="Docs Atom Feed"><link rel="stylesheet" href="/docs-exp/assets/css/styles.7cb45dda.css">
<script src="/docs-exp/assets/js/runtime~main.b73c8689.js" defer="defer"></script>
<script src="/docs-exp/assets/js/main.fc9b0457.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-exp/"><div class="navbar__logo"><img src="/docs-exp/img/Logo Horizontal 2.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-exp/img/Logo Horizontal 2.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-exp/docs/readme/our-plans">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://rocket.chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.rocket.chat/enterprise" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Enterprise Plan<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.rocket.chat/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing and Plans<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Rocket.Chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Rocket.Chat</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/readme/our-plans">Our Plans</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">DEPLOY</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/">Deploy Rocket.Chat</a><button aria-label="Collapse sidebar category &#x27;Deploy Rocket.Chat&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/">Additional Deployment Methods</a><button aria-label="Collapse sidebar category &#x27;Additional Deployment Methods&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-on-debian">Deploy on Debian</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-on-google-compute-engine">Deploy on Google Compute Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-on-ibm-cloud">IBM Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-on-kali">Deploy on Kali</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-on-windows-10">Deploy on Windows 10</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-centos">Deploy with CentOS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-digital-ocean">Deploy with Digital Ocean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes">Deploy with Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-ubuntu">Deploy with Ubuntu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/plug-in-deployments">Plug-in Deployments</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/unsupported-methods/">Unsupported Methods</a><button aria-label="Expand sidebar category &#x27;Unsupported Methods&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/deploy-with-aws">Deploy with AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/deploy-with-docker-and-docker-compose">Deploy with Docker &amp; Docker Compose</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/deploy-with-snaps">Deploy with Snaps</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/scaling-rocket.chat/">Scaling Rocket.Chat</a><button aria-label="Expand sidebar category &#x27;Scaling Rocket.Chat&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/system-requirements">System Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/deploy/deploy-rocket.chat/updating-rocket.chat">Updating Rocket.Chat</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">SETUP AND CONFIGURE</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/setup-and-configure/accessing-your-workspace/">Accessing Your Workspace</a><button aria-label="Expand sidebar category &#x27;Accessing Your Workspace&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/setup-and-configure/advanced-workspace-management/">Advanced workspace management</a><button aria-label="Expand sidebar category &#x27;Advanced workspace management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/setup-and-configure/environment-configuration/">Environment Configuration</a><button aria-label="Expand sidebar category &#x27;Environment Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/setup-and-configure/installing-client-apps/">Installing Client Apps</a><button aria-label="Expand sidebar category &#x27;Installing Client Apps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/setup-and-configure/license-application">License Application</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/setup-and-configure/rocket.chat-air-gapped-deployment/">Rocket.Chat Air-gapped Deployment</a><button aria-label="Expand sidebar category &#x27;Rocket.Chat Air-gapped Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/setup-and-configure/roles-in-rocket.chat">Roles in Rocket.Chat</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/setup-and-configure/trials/">Trials</a><button aria-label="Expand sidebar category &#x27;Trials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">USE ROCKET.CHAT</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/authentication/">Authentication</a><button aria-label="Expand sidebar category &#x27;Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/omnichannel/">Omnichannel</a><button aria-label="Expand sidebar category &#x27;Omnichannel&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/omnichannel-agents-guides/">Omnichannel Agent&#x27;s Guides</a><button aria-label="Expand sidebar category &#x27;Omnichannel Agent&#x27;s Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/rocket.chat-cloud/">Rocket.Chat Cloud</a><button aria-label="Expand sidebar category &#x27;Rocket.Chat Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/rocket.chat-conference-call/">Rocket.Chat Conference Call</a><button aria-label="Expand sidebar category &#x27;Rocket.Chat Conference Call&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/use-rocket.chat/rocket.chat-federation">Rocket.Chat Federation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/rocket.chat-mobile/">Rocket.Chat Mobile</a><button aria-label="Expand sidebar category &#x27;Rocket.Chat Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/rocket.chat-voice-channel/">Rocket.Chat Voice Channel</a><button aria-label="Expand sidebar category &#x27;Rocket.Chat Voice Channel&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/user-guides/">User Guides</a><button aria-label="Expand sidebar category &#x27;User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/user-management/">Communication Management Hub</a><button aria-label="Expand sidebar category &#x27;Communication Management Hub&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/use-rocket.chat/workspace-administration/">Workspace Administration</a><button aria-label="Expand sidebar category &#x27;Workspace Administration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">EXTEND ROCKET.CHAT CAPABILITIES</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/extend-rocket.chat-capabilities/rocket.chat-marketplace/">Rocket.Chat Marketplace</a><button aria-label="Expand sidebar category &#x27;Rocket.Chat Marketplace&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">CONTRIBUTE TO ROCKET.CHAT</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/contribute-to-rocket.chat/annual-contribution-programs">Annual Contribution Programs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">RESOURCES</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/resources/brand-and-visual-guidelines/">Brand and Visual Guidelines</a><button aria-label="Expand sidebar category &#x27;Brand and Visual Guidelines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/resources/developer-documentation">Development Docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/resources/frequently-asked-questions/">Frequently Asked Questions</a><button aria-label="Expand sidebar category &#x27;Frequently Asked Questions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/resources/glossary">Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">APPLICABLE TERMS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/applicable-terms/additional-terms/">Additional Terms</a><button aria-label="Expand sidebar category &#x27;Additional Terms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-exp/docs/applicable-terms/customer-terms-of-service">Customer Terms of Service</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">CUSTOMER CENTER</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/customer-center/cloud-services-center/">Cloud Services Center</a><button aria-label="Expand sidebar category &#x27;Cloud Services Center&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/customer-center/legal-center/">Legal Center</a><button aria-label="Expand sidebar category &#x27;Legal Center&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/customer-center/security-center/">Security Center</a><button aria-label="Expand sidebar category &#x27;Security Center&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs-exp/docs/customer-center/support-center/">Support Center</a><button aria-label="Expand sidebar category &#x27;Support Center&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-exp/docs/">Rocket.Chat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-exp/docs/SUMMARY">Table of contents</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-exp/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DEPLOY</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-exp/docs/deploy/deploy-rocket.chat/"><span itemprop="name">Deploy Rocket.Chat</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/"><span itemprop="name">Additional Deployment Methods</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploy with Kubernetes</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deploy with Kubernetes</h1>
<p>Using the <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a> package manager, the <a href="https://github.com/RocketChat/helm-charts/tree/master/rocketchat" target="_blank" rel="noopener noreferrer">helm chart</a> bootstraps a Rocket.Chat deployment on a <a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer">Kubernetes</a> cluster. It provisions a fully featured Rocket.Chat installation. Additionally, this chart supports the <a href="/docs-exp/deploy/deploy-rocket.chat/scaling-rocketchat/">scaling of Rocket.Chat</a> for increased server capacity and high availability.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-details">Prerequisites Details<a href="#prerequisites-details" class="hash-link" aria-label="Direct link to Prerequisites Details" title="Direct link to Prerequisites Details">​</a></h2>
<p>The chart has an optional dependency on the <a href="https://github.com/bitnami/charts/tree/master/bitnami/mongodb" target="_blank" rel="noopener noreferrer">MongoDB</a> chart. By default, the MongoDB chart requires PV support on underlying infrastructure which may be disabled.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-chart">Installing the Chart<a href="#installing-the-chart" class="hash-link" aria-label="Direct link to Installing the Chart" title="Direct link to Installing the Chart">​</a></h2>
<p>Confirm that you have helm3 binary insalled, then add the chart repository with the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add rocketchat https://rocketchat.github.io/helm-charts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To install the chart ,you can either define your configuration options in a values file or pass the configuration parameters via command line arguments.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="define-the-configuations-value-in-a-file">Define the configuations value in a file<a href="#define-the-configuations-value-in-a-file" class="hash-link" aria-label="Direct link to Define the configuations value in a file" title="Direct link to Define the configuations value in a file">​</a></h3>
<p>We recommend defining the configuration parameters inside a <code>Values.yaml</code> file with at least the non-root user&#x27;s password and the root password before passing it to helm. You must set at least the database and root password in the values file.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mongodb:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    passwords:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - rocketchat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rootPassword: rocketchatroot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, install with the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install rocketchat -f Values.yaml rocketchat/rocketchat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-configurations-parameters-via-command-line-arguments">Set the configurations parameters via command line arguments<a href="#set-the-configurations-parameters-via-command-line-arguments" class="hash-link" aria-label="Direct link to Set the configurations parameters via command line arguments" title="Direct link to Set the configurations parameters via command line arguments">​</a></h3>
<p>Optionally, you can use the <code>--set</code> flag to pass the configuration parameters to helm.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install rocketchat rocketchat/rocketchat --set mongodb.auth.passwords={$(echo -n $(openssl rand -base64 32))},mongodb.auth.rootPassword=$(echo -n $(openssl rand -base64 32))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Starting from chart version 5.4.3, username, password, and database entries must be arrays of the same length due to MongoDB dependency. Rocket.Chat will use the first entries of those arrays for its own use. <code>mongodb.auth.usernames</code> array defaults to <code>{rocketchat}</code> and <code>mongodb.auth.databases</code> array defaults to <code>{rocketchat}.</code></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="uninstalling-the-chart">Uninstalling the Chart<a href="#uninstalling-the-chart" class="hash-link" aria-label="Direct link to Uninstalling the Chart" title="Direct link to Uninstalling the Chart">​</a></h2>
<p>To uninstall/delete the <code>rocketchat</code> deployment:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm delete rocketchat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h3>
<p>The following table lists the configurable parameters of the Rocket.Chat chart and their default values.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>image.repository</code></td><td>Image repository</td><td><code>registry.rocket.chat/rocketchat/rocket.chat</code></td></tr><tr><td><code>image.tag</code></td><td>Image tag</td><td><code>3.18.3</code></td></tr><tr><td><code>image.pullPolicy</code></td><td>Image pull policy</td><td><code>IfNotPresent</code></td></tr><tr><td><code>host</code></td><td>Hostname for Rocket.Chat. Also used for ingress (if enabled)</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>replicaCount</code></td><td>Number of replicas to run</td><td><code>1</code></td></tr><tr><td><code>smtp.enabled</code></td><td>Enable SMTP for sending mails</td><td><code>false</code></td></tr><tr><td><code>smtp.existingSecret</code></td><td>Use existing secret for SMTP account</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>smtp.username</code></td><td>Username of the SMTP account</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>smtp.password</code></td><td>Password of the SMTP account</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>smtp.host</code></td><td>Hostname of the SMTP server</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>smtp.port</code></td><td>Port of the SMTP server</td><td><code>587</code></td></tr><tr><td><code>extraEnv</code></td><td>Extra environment variables for Rocket.Chat. Used with <code>tpl</code> function, so this needs to be a string</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>extraVolumes</code></td><td>Extra volumes allowing inclusion of certificates or any sort of file that might be required (see bellow)</td><td><code>[]</code></td></tr><tr><td><code>extraVolumeMounts</code></td><td>Where the aforementioned extra volumes should be mounted inside the container</td><td><code>[]</code></td></tr><tr><td><code>podAntiAffinity</code></td><td>Pod anti-affinity can prevent the scheduler from placing RocketChat replicas on the same node. The default value &quot;soft&quot; means that the scheduler should <em>prefer</em> to not schedule two replica pods onto the same node but no guarantee is provided. The value &quot;hard&quot; means that the scheduler is <em>required</em> to not schedule two replica pods onto the same node. The value &quot;&quot; will disable pod anti-affinity so that no anti-affinity rules will be configured.</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>podAntiAffinityTopologyKey</code></td><td>If anti-affinity is enabled sets the topologyKey to use for anti-affinity. This can be changed to, for example <code>failure-domain.beta.kubernetes.io/zone</code></td><td><code>kubernetes.io/hostname</code></td></tr><tr><td><code>affinity</code></td><td>Assign custom affinity rules to the RocketChat instance <a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/concepts/configuration/assign-pod-node/</a></td><td><code>{}</code></td></tr><tr><td><code>minAvailable</code></td><td>Minimum number / percentage of pods that should remain scheduled</td><td><code>1</code></td></tr><tr><td><code>existingMongodbSecret</code></td><td>An already existing secret containing MongoDB Connection URL</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>externalMongodbUrl</code></td><td>MongoDB URL if using an externally provisioned MongoDB</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>externalMongodbOplogUrl</code></td><td>MongoDB OpLog URL if using an externally provisioned MongoDB. Required if <code>externalMongodbUrl</code> is set</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>mongodb.enabled</code></td><td>Enable or disable MongoDB dependency. Refer to the <a href="https://github.com/bitnami/charts/tree/master/bitnami/mongodb#configuration" target="_blank" rel="noopener noreferrer">stable/mongodb docs</a> for more information</td><td><code>true</code></td></tr><tr><td><code>persistence.enabled</code></td><td>Enable persistence using a PVC. This is not necessary if you&#x27;re using the default <a href="/docs-exp/docs/use-rocketchat/workspace-administration/settings/file-upload/">GridFS</a> file storage</td><td><code>false</code></td></tr><tr><td><code>persistence.storageClass</code></td><td>Storage class of the PVC to use</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>persistence.accessMode</code></td><td>Access mode of the PVC</td><td><code>ReadWriteOnce</code></td></tr><tr><td><code>persistence.size</code></td><td>Size of the PVC</td><td><code>8Gi</code></td></tr><tr><td><code>persistence.existingClaim</code></td><td>An Existing PVC name for rocketchat volume</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>resources</code></td><td>Pod resource requests and limits</td><td><code>{}</code></td></tr><tr><td><code>securityContext.enabled</code></td><td>Enable security context for the pod</td><td><code>true</code></td></tr><tr><td><code>securityContext.runAsUser</code></td><td>User to run the pod as</td><td><code>999</code></td></tr><tr><td><code>securityContext.fsGroup</code></td><td>fs group to use for the pod</td><td><code>999</code></td></tr><tr><td><code>serviceAccount.create</code></td><td>Specifies whether a ServiceAccount should be created</td><td><code>true</code></td></tr><tr><td><code>serviceAccount.name</code></td><td>Name of the ServiceAccount to use. If not set and create is true, a name is generated using the fullname template</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>ingress.enabled</code></td><td>If <code>true</code>, an ingress is created</td><td><code>false</code></td></tr><tr><td><code>ingress.pathType</code></td><td>Sets the value for pathType for the created Ingress resource</td><td><code>Prefix</code></td></tr><tr><td><code>ingress.annotations</code></td><td>Annotations for the ingress</td><td><code>{}</code></td></tr><tr><td><code>ingress.path</code></td><td>Path of the ingress</td><td><code>/</code></td></tr><tr><td><code>ingress.tls</code></td><td>A list of <a href="https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressSpec" target="_blank" rel="noopener noreferrer">IngressTLS</a> items</td><td><code>[]</code></td></tr><tr><td><code>license</code></td><td>Contents of the license file, if applicable</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>prometheusScraping.enabled</code></td><td>Turn on and off /metrics endpoint for Prometheus scraping</td><td><code>false</code></td></tr><tr><td><code>prometheusScraping.port</code></td><td>Port to use for the metrics for Prometheus to scrap on</td><td><code>9458</code></td></tr><tr><td><code>serviceMonitor.enabled</code></td><td>Create ServiceMonitor resource(s) for scraping metrics using PrometheusOperator (prometheusScraping should be enabled)</td><td><code>false</code></td></tr><tr><td><code>serviceMonitor.interval</code></td><td>The interval at which metrics should be scraped</td><td><code>30s</code></td></tr><tr><td><code>serviceMonitor.port</code></td><td>The port name at which container exposes Prometheus metrics</td><td><code>metrics</code></td></tr><tr><td><code>livenessProbe.enabled</code></td><td>Turn on and off liveness probe</td><td><code>true</code></td></tr><tr><td><code>livenessProbe.initialDelaySeconds</code></td><td>Delay before liveness probe is initiated</td><td><code>60</code></td></tr><tr><td><code>livenessProbe.periodSeconds</code></td><td>How often to perform the probe</td><td><code>15</code></td></tr><tr><td><code>livenessProbe.timeoutSeconds</code></td><td>When the probe times out</td><td><code>5</code></td></tr><tr><td><code>livenessProbe.failureThreshold</code></td><td>Minimum consecutive failures for the probe</td><td><code>3</code></td></tr><tr><td><code>livenessProbe.successThreshold</code></td><td>Minimum consecutive successes for the probe</td><td><code>1</code></td></tr><tr><td><code>microservices.enabled</code></td><td>Use <a href="/docs-exp/deploy/deploy-rocket.chat/scaling-rocketchat/microservices.md">microservices</a> architecture</td><td><code>false</code></td></tr><tr><td><code>microservices.presence.replicas</code></td><td>Number of replicas to run for the given service</td><td><code>1</code></td></tr><tr><td><code>microservices.ddpStreamer.replicas</code></td><td>Idem</td><td><code>1</code></td></tr><tr><td><code>microservices.streamHub.replicas</code></td><td>Idem</td><td><code>1</code></td></tr><tr><td><code>microservices.accounts.replicas</code></td><td>Idem</td><td><code>1</code></td></tr><tr><td><code>microservices.authorization.replicas</code></td><td>Idem</td><td><code>1</code></td></tr><tr><td><code>microservices.nats.replicas</code></td><td>Idem</td><td><code>1</code></td></tr><tr><td><code>readinessProbe.enabled</code></td><td>Turn on and off readiness probe</td><td><code>true</code></td></tr><tr><td><code>readinessProbe.initialDelaySeconds</code></td><td>Delay before readiness probe is initiated</td><td><code>10</code></td></tr><tr><td><code>readinessProbe.periodSeconds</code></td><td>How often to perform the probe</td><td><code>15</code></td></tr><tr><td><code>readinessProbe.timeoutSeconds</code></td><td>When the probe times out</td><td><code>5</code></td></tr><tr><td><code>readinessProbe.failureThreshold</code></td><td>Minimum consecutive failures for the probe</td><td><code>3</code></td></tr><tr><td><code>readinessProbe.successThreshold</code></td><td>Minimum consecutive successes for the probe</td><td><code>1</code></td></tr><tr><td><code>registrationToken</code></td><td>Registration Token for <a href="https://cloud.rocket.chat/" target="_blank" rel="noopener noreferrer">Rocket.Chat Cloud</a></td><td>&quot;&quot;</td></tr><tr><td><code>service.annotations</code></td><td>Annotations for the Rocket.Chat service</td><td><code>{}</code></td></tr><tr><td><code>service.labels</code></td><td>Additional labels for the Rocket.Chat service</td><td><code>{}</code></td></tr><tr><td><code>service.type</code></td><td>The service type to use</td><td><code>ClusterIP</code></td></tr><tr><td><code>service.port</code></td><td>The service port</td><td><code>80</code></td></tr><tr><td><code>service.nodePort</code></td><td>The node port used if the service is of type <code>NodePort</code></td><td><code>&quot;&quot;</code></td></tr><tr><td><code>podDisruptionBudget.enabled</code></td><td>Enable or disable PDB for RC deployment</td><td><code>true</code></td></tr><tr><td><code>podLabels</code></td><td>Additional pod labels for the Rocket.Chat pods</td><td><code>{}</code></td></tr><tr><td><code>podAnnotations</code></td><td>Additional pod annotations for the Rocket.Chat pods</td><td><code>{}</code></td></tr></tbody></table>
<p>Specify each parameter using the <code>--set key=value[,key=value]</code> argument to <code>helm install</code>. Alternatively, you can update the YAML file that specifies the values for the parameters to be provided while installing the chart.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-setup">Database Setup<a href="#database-setup" class="hash-link" aria-label="Direct link to Database Setup" title="Direct link to Database Setup">​</a></h2>
<p>Rocket.Chat uses a MongoDB instance to presist its data. By default, the <a href="https://github.com/bitnami/charts/tree/master/bitnami/mongodb" target="_blank" rel="noopener noreferrer">MongoDB</a> chart is deployed, and a single MongoDB instance is created as the primary in a replicaset.<br>
<!-- -->Please refer to <a href="https://artifacthub.io/packages/helm/bitnami/mongodb" target="_blank" rel="noopener noreferrer">this chart</a> for additional MongoDB configuration options. If you are using chart defaults, set the <code>mongodb.auth.rootPassword</code> and <code>mongodb.auth.passwords</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-an-external-database"><strong>Using an External Database</strong><a href="#using-an-external-database" class="hash-link" aria-label="Direct link to using-an-external-database" title="Direct link to using-an-external-database">​</a></h3>
<p>This chart supports using an existing MongoDB instance. Use the <a href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes#configuration">configuration </a>options and disable the chart&#x27;s MongoDB with <code>--set mongodb.enabled=false</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-additional-environment-variables">Configuring Additional Environment Variables<a href="#configuring-additional-environment-variables" class="hash-link" aria-label="Direct link to Configuring Additional Environment Variables" title="Direct link to Configuring Additional Environment Variables">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">extraEnv: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: MONGO_OPTIONS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value: &#x27;{&quot;ssl&quot;: &quot;true&quot;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-aditional-volumes">Specifying aditional volumes<a href="#specifying-aditional-volumes" class="hash-link" aria-label="Direct link to Specifying aditional volumes" title="Direct link to Specifying aditional volumes">​</a></h3>
<p>Sometimes, it&#x27;s necessary to include extra sets of files by means of exposing them to the container as a mountpoint. The most common use case is the inclusion of SSL CA certificates.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">extraVolumes: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: etc-certs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hostPath:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - path: /etc/ssl/certs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: Directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extraVolumeMounts: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - mountPath: /etc/ssl/certs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: etc-certs   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    readOnly: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="increasing-server-capacity-and-ha-setup-">Increasing Server Capacity and HA Setup <img loading="lazy" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjEiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCA2MSAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYxIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzVGMTQ3NyIvPgo8cGF0aCBkPSJNNS4xNzI1OSAxNFY1LjI3MjczSDguNjE1NzdDOS4yNzc3IDUuMjcyNzMgOS44NDE2MiA1LjM5OTE1IDEwLjMwNzUgNS42NTE5OUMxMC43NzM0IDUuOTAxOTkgMTEuMTI4NiA2LjI1IDExLjM3MjkgNi42OTYwMkMxMS42MiA3LjEzOTIgMTEuNzQzNiA3LjY1MDU3IDExLjc0MzYgOC4yMzAxMUMxMS43NDM2IDguODA5NjYgMTEuNjE4NiA5LjMyMTAyIDExLjM2ODYgOS43NjQyQzExLjExODYgMTAuMjA3NCAxMC43NTY0IDEwLjU1MjYgMTAuMjgyIDEwLjc5OTdDOS44MTAzNyAxMS4wNDY5IDkuMjM5MzUgMTEuMTcwNSA4LjU2ODg5IDExLjE3MDVINi4zNzQyOVY5LjY5MTc2SDguMjcwNkM4LjYyNTcxIDkuNjkxNzYgOC45MTgzMiA5LjYzMDY4IDkuMTQ4NDQgOS41MDg1MkM5LjM4MTM5IDkuMzgzNTIgOS41NTQ2OSA5LjIxMTY1IDkuNjY4MzIgOC45OTI5QzkuNzg0OCA4Ljc3MTMxIDkuODQzMDQgOC41MTcwNSA5Ljg0MzA0IDguMjMwMTFDOS44NDMwNCA3Ljk0MDM0IDkuNzg0OCA3LjY4NzUgOS42NjgzMiA3LjQ3MTU5QzkuNTU0NjkgNy4yNTI4NCA5LjM4MTM5IDcuMDgzODEgOS4xNDg0NCA2Ljk2NDQ5QzguOTE1NDggNi44NDIzMyA4LjYyMDAzIDYuNzgxMjUgOC4yNjIwNyA2Ljc4MTI1SDcuMDE3NzZWMTRINS4xNzI1OVpNMTIuOTA4IDE0VjcuNDU0NTVIMTQuNjY4VjguNTk2NTlIMTQuNzM2MkMxNC44NTU1IDguMTkwMzQgMTUuMDU1OCA3Ljg4MzUyIDE1LjMzNyA3LjY3NjE0QzE1LjYxODMgNy40NjU5MSAxNS45NDIxIDcuMzYwOCAxNi4zMDg2IDcuMzYwOEMxNi4zOTk1IDcuMzYwOCAxNi40OTc1IDcuMzY2NDggMTYuNjAyNiA3LjM3Nzg0QzE2LjcwNzcgNy4zODkyIDE2LjgwMDEgNy40MDQ4MyAxNi44Nzk2IDcuNDI0NzJWOS4wMzU1MUMxNi43OTQ0IDkuMDA5OTQgMTYuNjc2NSA4Ljk4NzIyIDE2LjUyNTkgOC45NjczM0MxNi4zNzU0IDguOTQ3NDQgMTYuMjM3NiA4LjkzNzUgMTYuMTEyNiA4LjkzNzVDMTUuODQ1NSA4LjkzNzUgMTUuNjA2OSA4Ljk5NTc0IDE1LjM5NjcgOS4xMTIyMkMxNS4xODkzIDkuMjI1ODUgMTUuMDI0NSA5LjM4NDk0IDE0LjkwMjMgOS41ODk0OUMxNC43ODMgOS43OTQwMyAxNC43MjM0IDEwLjAyOTggMTQuNzIzNCAxMC4yOTY5VjE0SDEyLjkwOFpNMjAuNDk2NCAxNC4xMjc4QzE5LjgyMzIgMTQuMTI3OCAxOS4yNDM2IDEzLjk5MTUgMTguNzU3OCAxMy43MTg4QzE4LjI3NDkgMTMuNDQzMiAxNy45MDI3IDEzLjA1NCAxNy42NDEzIDEyLjU1MTFDMTcuMzggMTIuMDQ1NSAxNy4yNDkzIDExLjQ0NzQgMTcuMjQ5MyAxMC43NTcxQzE3LjI0OTMgMTAuMDgzOCAxNy4zOCA5LjQ5MjkgMTcuNjQxMyA4Ljk4NDM4QzE3LjkwMjcgOC40NzU4NSAxOC4yNzA2IDguMDc5NTUgMTguNzQ1IDcuNzk1NDVDMTkuMjIyMyA3LjUxMTM2IDE5Ljc4MiA3LjM2OTMyIDIwLjQyNCA3LjM2OTMyQzIwLjg1NTggNy4zNjkzMiAyMS4yNTc4IDcuNDM4OTIgMjEuNjMgNy41NzgxMkMyMi4wMDUgNy43MTQ0OSAyMi4zMzE3IDcuOTIwNDUgMjIuNjEwMSA4LjE5NjAyQzIyLjg5MTMgOC40NzE1OSAyMy4xMTAxIDguODE4MTggMjMuMjY2MyA5LjIzNThDMjMuNDIyNiA5LjY1MDU3IDIzLjUwMDcgMTAuMTM2NCAyMy41MDA3IDEwLjY5MzJWMTEuMTkxOEgxNy45NzM3VjEwLjA2NjhIMjEuNzkxOUMyMS43OTE5IDkuODA1NCAyMS43MzUxIDkuNTczODYgMjEuNjIxNCA5LjM3MjE2QzIxLjUwNzggOS4xNzA0NSAyMS4zNTAxIDkuMDEyNzggMjEuMTQ4NCA4Ljg5OTE1QzIwLjk0OTYgOC43ODI2NyAyMC43MTggOC43MjQ0MyAyMC40NTM4IDguNzI0NDNDMjAuMTc4MyA4LjcyNDQzIDE5LjkzMzkgOC43ODgzNSAxOS43MjA5IDguOTE2MTlDMTkuNTEwNyA5LjA0MTE5IDE5LjM0NTkgOS4yMTAyMyAxOS4yMjY2IDkuNDIzM0MxOS4xMDcyIDkuNjMzNTIgMTkuMDQ2MiA5Ljg2NzkgMTkuMDQzMyAxMC4xMjY0VjExLjE5NkMxOS4wNDMzIDExLjUxOTkgMTkuMTAzIDExLjc5OTcgMTkuMjIyMyAxMi4wMzU1QzE5LjM0NDUgMTIuMjcxMyAxOS41MTYzIDEyLjQ1MzEgMTkuNzM3OSAxMi41ODFDMTkuOTU5NSAxMi43MDg4IDIwLjIyMjMgMTIuNzcyNyAyMC41MjYzIDEyLjc3MjdDMjAuNzI4IDEyLjc3MjcgMjAuOTEyNiAxMi43NDQzIDIxLjA4MDMgMTIuNjg3NUMyMS4yNDc5IDEyLjYzMDcgMjEuMzkxMyAxMi41NDU1IDIxLjUxMDcgMTIuNDMxOEMyMS42MyAxMi4zMTgyIDIxLjcyMDkgMTIuMTc5IDIxLjc4MzQgMTIuMDE0MkwyMy40NjI0IDEyLjEyNUMyMy4zNzcxIDEyLjUyODQgMjMuMjAyNCAxMi44ODA3IDIyLjkzODIgMTMuMTgxOEMyMi42NzY4IDEzLjQ4MDEgMjIuMzM4OCAxMy43MTMxIDIxLjkyNCAxMy44ODA3QzIxLjUxMjEgMTQuMDQ1NSAyMS4wMzYyIDE0LjEyNzggMjAuNDk2NCAxNC4xMjc4Wk0yNC42ODU0IDE0VjcuNDU0NTVIMjYuNDE1NVY4LjYwOTM4SDI2LjQ5MjJDMjYuNjI4NiA4LjIyNTg1IDI2Ljg1NTggNy45MjMzIDI3LjE3NCA3LjcwMTdDMjcuNDkyMiA3LjQ4MDExIDI3Ljg3MjkgNy4zNjkzMiAyOC4zMTYxIDcuMzY5MzJDMjguNzY0OSA3LjM2OTMyIDI5LjE0NyA3LjQ4MTUzIDI5LjQ2MjQgNy43MDU5N0MyOS43Nzc3IDcuOTI3NTYgMjkuOTg3OSA4LjIyODY5IDMwLjA5MyA4LjYwOTM4SDMwLjE2MTJDMzAuMjk0NyA4LjIzNDM4IDMwLjUzNjIgNy45MzQ2NiAzMC44ODU3IDcuNzEwMjNDMzEuMjM3OSA3LjQ4Mjk1IDMxLjY1NDEgNy4zNjkzMiAzMi4xMzQyIDcuMzY5MzJDMzIuNzQ1IDcuMzY5MzIgMzMuMjQwOCA3LjU2MzkyIDMzLjYyMTQgNy45NTMxMkMzNC4wMDUgOC4zMzk0OSAzNC4xOTY3IDguODg3NzggMzQuMTk2NyA5LjU5ODAxVjE0SDMyLjM4NTdWOS45NTU5N0MzMi4zODU3IDkuNTkyMzMgMzIuMjg5MSA5LjMxOTYgMzIuMDk1OSA5LjEzNzc4QzMxLjkwMjcgOC45NTU5NyAzMS42NjEyIDguODY1MDYgMzEuMzcxNCA4Ljg2NTA2QzMxLjA0MTkgOC44NjUwNiAzMC43ODQ4IDguOTcwMTcgMzAuNjAwMSA5LjE4MDRDMzAuNDE1NSA5LjM4Nzc4IDMwLjMyMzIgOS42NjE5MyAzMC4zMjMyIDEwLjAwMjhWMTRIMjguNTYzMlY5LjkxNzYxQzI4LjU2MzIgOS41OTY1OSAyOC40NzA5IDkuMzQwOTEgMjguMjg2MiA5LjE1MDU3QzI4LjEwNDQgOC45NjAyMyAyNy44NjQzIDguODY1MDYgMjcuNTY2MSA4Ljg2NTA2QzI3LjM2NDMgOC44NjUwNiAyNy4xODI1IDguOTE2MTkgMjcuMDIwNiA5LjAxODQ3QzI2Ljg2MTUgOS4xMTc5IDI2LjczNTEgOS4yNTg1MiAyNi42NDEzIDkuNDQwMzRDMjYuNTQ3NiA5LjYxOTMyIDI2LjUwMDcgOS44Mjk1NSAyNi41MDA3IDEwLjA3MVYxNEgyNC42ODU0Wk0zNS42MzA3IDE0VjcuNDU0NTVIMzcuNDQ2VjE0SDM1LjYzMDdaTTM2LjU0MjYgNi42MTA4QzM2LjI3MjcgNi42MTA4IDM2LjA0MTIgNi41MjEzMSAzNS44NDggNi4zNDIzM0MzNS42NTc3IDYuMTYwNTEgMzUuNTYyNSA1Ljk0MzE4IDM1LjU2MjUgNS42OTAzNEMzNS41NjI1IDUuNDQwMzQgMzUuNjU3NyA1LjIyNTg1IDM1Ljg0OCA1LjA0Njg4QzM2LjA0MTIgNC44NjUwNiAzNi4yNzI3IDQuNzc0MTUgMzYuNTQyNiA0Ljc3NDE1QzM2LjgxMjUgNC43NzQxNSAzNy4wNDI2IDQuODY1MDYgMzcuMjMzIDUuMDQ2ODhDMzcuNDI2MSA1LjIyNTg1IDM3LjUyMjcgNS40NDAzNCAzNy41MjI3IDUuNjkwMzRDMzcuNTIyNyA1Ljk0MzE4IDM3LjQyNjEgNi4xNjA1MSAzNy4yMzMgNi4zNDIzM0MzNy4wNDI2IDYuNTIxMzEgMzYuODEyNSA2LjYxMDggMzYuNTQyNiA2LjYxMDhaTTQzLjA5NzcgMTEuMjEzMVY3LjQ1NDU1SDQ0LjkxM1YxNEg0My4xNzAxVjEyLjgxMTFINDMuMTAxOUM0Mi45NTQyIDEzLjE5NDYgNDIuNzA4NSAxMy41MDI4IDQyLjM2NDcgMTMuNzM1OEM0Mi4wMjM4IDEzLjk2ODcgNDEuNjA3NiAxNC4wODUyIDQxLjExNjEgMTQuMDg1MkM0MC42Nzg2IDE0LjA4NTIgNDAuMjkzNyAxMy45ODU4IDM5Ljk2MTMgMTMuNzg2OUMzOS42Mjg5IDEzLjU4ODEgMzkuMzY5IDEzLjMwNTQgMzkuMTgxNSAxMi45Mzg5QzM4Ljk5NjggMTIuNTcyNCAzOC45MDMxIDEyLjEzMzUgMzguOTAwMiAxMS42MjIyVjcuNDU0NTVINDAuNzE1NlYxMS4yOTgzQzQwLjcxODQgMTEuNjg0NyA0MC44MjIxIDExLjk5MDEgNDEuMDI2NiAxMi4yMTQ1QzQxLjIzMTIgMTIuNDM4OSA0MS41MDUzIDEyLjU1MTEgNDEuODQ5MSAxMi41NTExQzQyLjA2NzggMTIuNTUxMSA0Mi4yNzI0IDEyLjUwMTQgNDIuNDYyNyAxMi40MDJDNDIuNjUzMSAxMi4yOTk3IDQyLjgwNjUgMTIuMTQ5MSA0Mi45MjI5IDExLjk1MDNDNDMuMDQyMyAxMS43NTE0IDQzLjEwMDUgMTEuNTA1NyA0My4wOTc3IDExLjIxMzFaTTQ2LjM2NTEgMTRWNy40NTQ1NUg0OC4wOTUyVjguNjA5MzhINDguMTcxOUM0OC4zMDgyIDguMjI1ODUgNDguNTM1NSA3LjkyMzMgNDguODUzNyA3LjcwMTdDNDkuMTcxOSA3LjQ4MDExIDQ5LjU1MjYgNy4zNjkzMiA0OS45OTU3IDcuMzY5MzJDNTAuNDQ0NiA3LjM2OTMyIDUwLjgyNjcgNy40ODE1MyA1MS4xNDIgNy43MDU5N0M1MS40NTc0IDcuOTI3NTYgNTEuNjY3NiA4LjIyODY5IDUxLjc3MjcgOC42MDkzOEg1MS44NDA5QzUxLjk3NDQgOC4yMzQzOCA1Mi4yMTU5IDcuOTM0NjYgNTIuNTY1MyA3LjcxMDIzQzUyLjkxNzYgNy40ODI5NSA1My4zMzM4IDcuMzY5MzIgNTMuODEzOSA3LjM2OTMyQzU0LjQyNDcgNy4zNjkzMiA1NC45MjA1IDcuNTYzOTIgNTUuMzAxMSA3Ljk1MzEyQzU1LjY4NDcgOC4zMzk0OSA1NS44NzY0IDguODg3NzggNTUuODc2NCA5LjU5ODAxVjE0SDU0LjA2NTNWOS45NTU5N0M1NC4wNjUzIDkuNTkyMzMgNTMuOTY4OCA5LjMxOTYgNTMuNzc1NiA5LjEzNzc4QzUzLjU4MjQgOC45NTU5NyA1My4zNDA5IDguODY1MDYgNTMuMDUxMSA4Ljg2NTA2QzUyLjcyMTYgOC44NjUwNiA1Mi40NjQ1IDguOTcwMTcgNTIuMjc5OCA5LjE4MDRDNTIuMDk1MiA5LjM4Nzc4IDUyLjAwMjggOS42NjE5MyA1Mi4wMDI4IDEwLjAwMjhWMTRINTAuMjQyOVY5LjkxNzYxQzUwLjI0MjkgOS41OTY1OSA1MC4xNTA2IDkuMzQwOTEgNDkuOTY1OSA5LjE1MDU3QzQ5Ljc4NDEgOC45NjAyMyA0OS41NDQgOC44NjUwNiA0OS4yNDU3IDguODY1MDZDNDkuMDQ0IDguODY1MDYgNDguODYyMiA4LjkxNjE5IDQ4LjcwMDMgOS4wMTg0N0M0OC41NDEyIDkuMTE3OSA0OC40MTQ4IDkuMjU4NTIgNDguMzIxIDkuNDQwMzRDNDguMjI3MyA5LjYxOTMyIDQ4LjE4MDQgOS44Mjk1NSA0OC4xODA0IDEwLjA3MVYxNEg0Ni4zNjUxWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==" width="61" height="20" class="img_ev3q"><a href="#increasing-server-capacity-and-ha-setup-" class="hash-link" aria-label="Direct link to increasing-server-capacity-and-ha-setup-" title="Direct link to increasing-server-capacity-and-ha-setup-">​</a></h3>
<p>To increase the server&#x27;s capacity, you can increase the number of Rocket.Chat server instances across available computing resources in your cluster. For example,</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl scale --replicas=3 deployment/rocketchat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default, the chart creates one MongoDB instance as a Primary in a replicaset. You can also scale up the capacity and availability of the MongoDB cluster independently.</p>
<blockquote>
<p>See <a href="https://github.com/bitnami/charts/tree/master/bitnami/mongodb" target="_blank" rel="noopener noreferrer">MongoDB chart</a> for configuration information. To learn more on running Rocket.Chat in scaled configurations, visit the <a href="/docs-exp/docs/setup-and-configure/environment-configuration/mongodb-configuration/configure-a-replica-set-for-mongodb">Configure MongoDB Replicaset</a> guide.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manage-mongodb-secrets">Manage MongoDB secrets<a href="#manage-mongodb-secrets" class="hash-link" aria-label="Direct link to Manage MongoDB secrets" title="Direct link to Manage MongoDB secrets">​</a></h3>
<p>The chart provides several ways to manage the connection for MongoDB apart from the primary <code>mongodb.auth</code> values. They include:</p>
<ul>
<li>Values passed to the chart (externalMongodbUrl, externalMongodbOplogUrl)</li>
<li>An ExistingMongodbSecret containing the MongoURL and MongoOplogURL</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: my-secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type: Opaque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mongo-uri: mongodb://user:password@localhost:27017/rocketchat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mongo-oplog-uri: mongodb://user:password@localhost:27017/local?replicaSet=rs0&amp;authSource=admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading">Upgrading<a href="#upgrading" class="hash-link" aria-label="Direct link to Upgrading" title="Direct link to Upgrading">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-543">To 5.4.3<a href="#to-543" class="hash-link" aria-label="Direct link to To 5.4.3" title="Direct link to To 5.4.3">​</a></h3>
<p>Due to changes on the upstream MongoDB chart, some deprecated variables have been renamed, which changed how this chart generates its manifests. Here are the values that need updates:</p>
<ul>
<li><code>mongodb.auth.username</code> is no longer supported and has been changed to <code>mongodb.auth.usernames</code> array. If you set it to something custom (defaults to <code>rocketchat</code>), make sure you update it to an array, and the entry is the <strong>first</strong> entry in that array, as that&#x27;s what Rocket.Chat will use to connect to the database.</li>
<li><code>mongodb.auth.password</code> is no longer supported and has been changed to <code>mongodb.auth.passwords</code> array. Update your values file to make it an array, and ensure it&#x27;s the first entry of that array.</li>
<li><code>mongodb.auth.database</code> is no longer supported and has been changed to <code>mongodb.auth.databases</code>. Update your values file, convert it to an array, and ensure it&#x27;s the first entry of that array.</li>
<li><code>mongodb.auth.rootUsername</code> and <code>mongodb.auth.rootPassword</code> remain the same.</li>
</ul>
<blockquote>
<p><em><code>usernames</code>, <code>passwords</code> and <code>databases</code> arrays must be of the same length. Rocket.Chat chart will use the first entry for its mongodb connection string in <code>MONGO_URL</code> and <code>MONGO_OPLOG_URL</code>.</em></p>
</blockquote>
<p>The used image tag gets updated <strong>in most cases</strong> on each chart update. The same is true for the MongoDB chart we use as our dependency. Before version 5.4.3, we used the chart version 10.x.x. Starting from 5.4.3, the dependency chart version has been updated to the latest available version, 13.x.x. This chart defaults to MongoDB 6.0.x at the moment.</p>
<blockquote>
<p>As a warning, this chart will not handle MongoDB upgrades and will depend on the user to ensure the supprted version is runnning.</p>
</blockquote>
<p>The upgrade will fail if any of the following requirements are not met :</p>
<ul>
<li>Must not skip a MongoDB release. For example, 4.2.x to 5.0.x will fail.</li>
<li>Current <code>featureCompatibilityVersion</code> must be compatible with the version the user is trying to upgrade to. For example—if the current database version and feature compatibility is 4.4 and 4.2, respectively, but the user is trying to upgrade to 5.0, it&#x27;ll fail.</li>
</ul>
<p>The chart will not check if the mongodb version is supported by the Rocket.Chat version considering deployments that might occur in an airgapped environment. You can check the<a href="https://github.com/RocketChat/Rocket.Chat/releases" target="_blank" rel="noopener noreferrer"> release notes</a> to confirm that.</p>
<p>To get the currently deployed MongoDB version, the easiest method is to get into the mongo shell and run <code>db.version()</code>. You are advised to pin your MongoDB dependency in the values file.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mongodb:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tag: # find from https://hub.docker.com/r/bitnami/mongodb/tags</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To learn more about the Rocket.Chat helm chart, visit the <a href="https://github.com/RocketChat/helm-charts/blob/master/rocketchat/README.md" target="_blank" rel="noopener noreferrer">Github repository</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h3>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/debug/debug-application/get-shell-running-container/" target="_blank" rel="noopener noreferrer">Run a shell inside a container (to check mongodb version)</a></li>
<li><a href="https://www.mongodb.com/docs/manual/tutorial/upgrade-revision/" target="_blank" rel="noopener noreferrer">MongoDB upgrade official documentation</a></li>
<li><a href="https://artifacthub.io/packages/helm/bitnami/mongodb" target="_blank" rel="noopener noreferrer">MongoDB helm chart options</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Freedom101/docs-exp/tree/main/my-website/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-kubernetes.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-digital-ocean"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploy with Digital Ocean</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-exp/docs/deploy/deploy-rocket.chat/additional-deployment-methods/deploy-with-ubuntu"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploy with Ubuntu</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites-details" class="table-of-contents__link toc-highlight">Prerequisites Details</a></li><li><a href="#installing-the-chart" class="table-of-contents__link toc-highlight">Installing the Chart</a><ul><li><a href="#define-the-configuations-value-in-a-file" class="table-of-contents__link toc-highlight">Define the configuations value in a file</a></li><li><a href="#set-the-configurations-parameters-via-command-line-arguments" class="table-of-contents__link toc-highlight">Set the configurations parameters via command line arguments</a></li></ul></li><li><a href="#uninstalling-the-chart" class="table-of-contents__link toc-highlight">Uninstalling the Chart</a><ul><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li><li><a href="#database-setup" class="table-of-contents__link toc-highlight">Database Setup</a><ul><li><a href="#using-an-external-database" class="table-of-contents__link toc-highlight"><strong>Using an External Database</strong></a></li><li><a href="#configuring-additional-environment-variables" class="table-of-contents__link toc-highlight">Configuring Additional Environment Variables</a></li><li><a href="#specifying-aditional-volumes" class="table-of-contents__link toc-highlight">Specifying aditional volumes</a></li><li><a href="#increasing-server-capacity-and-ha-setup-" class="table-of-contents__link toc-highlight">Increasing Server Capacity and HA Setup </a></li><li><a href="#manage-mongodb-secrets" class="table-of-contents__link toc-highlight">Manage MongoDB secrets</a></li><li><a href="#upgrading" class="table-of-contents__link toc-highlight">Upgrading</a></li><li><a href="#to-543" class="table-of-contents__link toc-highlight">To 5.4.3</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs-exp/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs-exp/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>